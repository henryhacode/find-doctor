"use strict";(self.webpackChunkFindDoctor=self.webpackChunkFindDoctor||[]).push([[480],{6480:(b,d,c)=>{c.r(d),c.d(d,{DoctorModule:()=>$});var s=c(6895),m=c(3060),t=c(4650),f=c(2340),h=c(529);let Z=(()=>{class o{constructor(n){this.http=n}getAppointments(n){return this.http.get(`${f.N.baseUrl}doctors/${n}/appointments`)}updateAppointment(n,e,a,r){return this.http.patch(`${f.N.baseUrl}doctors/${n}/appointments`,{patientUsername:e,time:a,status:r})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(h.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=c(9943),p=c(3546),x=c(4859),v=c(7392),l=c(8255),u=c(1576),C=c(5829);let _=(()=>{class o{transform(n){return`Phone: ${(n="+1"+n).slice(0,2)} (${n.slice(2,5)}) ${n.slice(5,8)}-${n.slice(8)}`}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275pipe=t.Yjl({name:"validPhone",type:o,pure:!0}),o})();function M(o,i){1&o&&(t.TgZ(0,"div",4)(1,"h2"),t._uU(2,"You don't have an appointment!"),t.qZA()())}const T=function(o){return{"background-image":o}};function D(o,i){if(1&o&&t._UZ(0,"div",15),2&o){const n=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(1,T,"url("+n.patient.avatarurl+")"))}}function O(o,i){1&o&&t._UZ(0,"div",16)}function P(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"button",17)(2,"mat-icon",18),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,19)(6,"button",20),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.updateAppointment(a.patient.username,a.time,"CONFIRMED"))}),t.TgZ(7,"mat-icon"),t._uU(8,"confirmation_number"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Confirm"),t.qZA()(),t.TgZ(11,"button",20),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.updateAppointment(a.patient.username,a.time,"CANCELLED"))}),t.TgZ(12,"mat-icon"),t._uU(13,"cancel"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Cancel"),t.qZA()(),t.TgZ(16,"button",20),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.updateAppointment(a.patient.username,a.time,"COMPLETED"))}),t.TgZ(17,"mat-icon"),t._uU(18,"check"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Completed"),t.qZA()()()()}if(2&o){const n=t.MAs(5);t.xp6(2),t.Q6J("matMenuTriggerFor",n)}}function S(o,i){if(1&o&&(t.TgZ(0,"p",21),t._uU(1),t.ALo(2,"validPhone"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.patient.phone))}}const y=function(o,i,n,e,a){return{bookingClass:o,cancelClass:i,confirmClass:n,completeClass:e,missClass:a}};function F(o,i){if(1&o&&(t.TgZ(0,"div",5)(1,"mat-card")(2,"mat-card-header"),t.YNc(3,D,1,3,"div",6),t.YNc(4,O,1,0,"div",7),t.TgZ(5,"mat-card-title"),t._uU(6),t.qZA(),t._UZ(7,"span",8),t.YNc(8,P,21,1,"div",9),t.qZA(),t.TgZ(9,"mat-card-content"),t.YNc(10,S,3,3,"p",10),t.TgZ(11,"div",11)(12,"span",12),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"span",13),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"span",14),t._uU(19),t.ALo(20,"titlecase"),t.qZA()()()()()),2&o){const n=i.$implicit,e=t.oxw();t.Q6J("fxFlex",100/e.gridColumns+"%"),t.xp6(3),t.Q6J("ngIf",n.patient.avatarurl),t.xp6(1),t.Q6J("ngIf",!n.patient.avatarurl),t.xp6(2),t.Oqu(n.patient.fullname),t.xp6(2),t.Q6J("ngIf","BOOKING"===n.status||"CONFIRMED"===n.status),t.xp6(2),t.Q6J("ngIf",n.patient.phone),t.xp6(3),t.Oqu(t.xi3(14,10,n.time,"shortTime")),t.xp6(3),t.hij(" ",t.xi3(17,13,n.time,"mediumDate"),""),t.xp6(2),t.Q6J("ngClass",t.qbA(18,y,"BOOKING"===n.status,"CANCELLED"===n.status,"CONFIRMED"===n.status,"COMPLETED"===n.status,"MISSED"===n.status)),t.xp6(1),t.hij(" ",t.lcZ(20,16,n.status),"")}}const U=[{path:"",component:(()=>{class o{constructor(n,e,a){this.doctorService=n,this.userService=e,this.router=a,this.appointments=[],this.gridColumns=4,this.getListAppointment()}getListAppointment(){let n=this.userService.getUserState()?.username;n&&this.doctorService.getAppointments(n).subscribe(e=>{console.log(e),this.appointments=e})}updateAppointment(n,e,a){console.log("delete appointment");let r=this.userService.getUserState()?.username;r&&this.doctorService.updateAppointment(r,n,e,a).subscribe(g=>{console.log(g),this.getListAppointment()})}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Z),t.Y36(A.K),t.Y36(m.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-doctor"]],decls:6,vars:2,consts:[["class","no-appoint",4,"ngIf"],[1,"content"],["fxLayout","row wrap","fxLayoutGap","20px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],[1,"no-appoint"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],["mat-card-avatar","","class","header-image",3,"ngStyle",4,"ngIf"],["mat-card-avatar","","class","header-image",4,"ngIf"],[1,"spacer"],[4,"ngIf"],["class","phone",4,"ngIf"],[1,"line-bottom"],[2,"font-weight","bold","font-size","17px"],[2,"font-size","13px","color","dimgrey"],[1,"status",3,"ngClass"],["mat-card-avatar","",1,"header-image",3,"ngStyle"],["mat-card-avatar","",1,"header-image"],["mat-icon-button",""],["color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"phone"]],template:function(n,e){1&n&&(t.TgZ(0,"h1"),t._uU(1,"List Appointments"),t.qZA(),t.YNc(2,M,3,0,"div",0),t.TgZ(3,"div",1)(4,"div",2),t.YNc(5,F,21,24,"div",3),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf",0==e.appointments.length),t.xp6(3),t.Q6J("ngForOf",e.appointments))},dependencies:[s.mk,s.sg,s.O5,s.PC,p.a8,p.dk,p.dn,p.n5,p.kc,x.lW,v.Hw,l.VK,l.OP,l.p6,u.xw,u.SQ,u.yH,C.oO,C.Zl,s.rS,s.uU,_],styles:["h1[_ngcontent-%COMP%]{padding-top:20px;padding-left:20px;font-weight:initial;color:#283985}.no-appoint[_ngcontent-%COMP%]{margin:20px;font-weight:initial}.header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.status[_ngcontent-%COMP%]{font-weight:700;margin-right:10px;float:right}.line-bottom[_ngcontent-%COMP%]{padding-top:20px}.bookingClass[_ngcontent-%COMP%]{color:navy}.cancelClass[_ngcontent-%COMP%], .missClass[_ngcontent-%COMP%]{color:red}.completeClass[_ngcontent-%COMP%]{color:#d2691e}.confirmClass[_ngcontent-%COMP%]{color:green}.location[_ngcontent-%COMP%]{font-weight:lighter;font-size:small;color:gray}.phone[_ngcontent-%COMP%]{font-weight:lighter;font-size:small}.content[_ngcontent-%COMP%]{padding:20px}.content[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{margin-bottom:10px}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(U),m.Bz]}),o})();var I=c(782),L=c(7331),J=c(9814);let $=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,N,p.QW,x.ot,I.N6,L.Hi,v.Ps,l.Tx,J.o9]}),o})()}}]);